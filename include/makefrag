# makefrag for include directory of MiXiM
#
# this file automatically gets inserted into Makefiles generated by opp_makemake

# header and .ned files for the include directory
BASEDIRS := ../base/connectionManager ../base/localization ../base/messages ../base/modules ../base/phyLayer ../base/timers ../base/utils

# MODULESDIRS := ../modules/application ../modules/channel ../modules/localization ../modules/mac ../modules/mobility ../modules/netw ../modules/nic ../modules/node ../modules/object ../modules/phy ../modules/propagation ../modules/utility
MODULESDIRS := ../modules/application ../modules/mobility ../modules/netw ../modules/nic ../modules/node ../modules/object ../modules/propagation ../modules/utility ../modules/mac

BASEHEADERS = $(foreach dir,$(BASEDIRS),$(wildcard $(dir)/*.h))
BASENEDS = $(foreach dir,$(BASEDIRS),$(wildcard $(dir)/*.ned))

MODULESHEADERS = $(foreach dir,$(MODULESDIRS),$(wildcard $(dir)/*.h))
MODULESNEDS = $(foreach dir,$(MODULESDIRS),$(wildcard $(dir)/*.ned))


# default target
all: .tstamp

.tstamp: .basestuff_tstamp .modulesstuff_tstamp
	 @echo > .tstamp

# copy base header and ned files
.basestuff_tstamp: $(BASEHEADERS) $(BASENEDS)
	@cp $(BASEHEADERS) .
	@cp $(BASENEDS) .
	@echo > .basestuff_tstamp

# copy core header and ned files
.modulesstuff_tstamp: $(MODULESHEADERS) $(MODULESNEDS)
	@cp $(MODULESHEADERS) .
	@cp $(MODULESNEDS) .
	@echo >.modulesstuff_tstamp

# remove all header and ned files
rm:
	rm -f *.h *.ned .tstamp .basestuff_tstamp .modulesstuff_tstamp

# make clean depends on rm
clean: rm
