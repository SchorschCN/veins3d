# makefrag for include directory of MiXiM
#
# this file automatically gets inserted into Makefiles generated by opp_makemake

# header and .ned files for the include directory
BASEDIRS := ../base/connectionManager ../base/localization ../base/messages ../base/modules ../base/timers ../base/utils

MODULESDIRS := ../modules/application ../modules/channel ../modules/localization ../modules/mac ../modules/mobility ../modules/netw ../modules/nic ../modules/node ../modules/object ../modules/phy ../modules/propagation ../modules/utility

BASEHEADERS = $(foreach dir,$(BASEDIRS),$(wildcard $(dir)/*.h))
BASENEDS = $(foreach dir,$(BASEDIRS),$(wildcard $(dir)/*.ned))

MODULESHEADERS = $(foreach dir,$(MODULESDIRS),$(wildcard $(dir)/*.h))
MODULESNEDS = $(foreach dir,$(MODULESDIRS),$(wildcard $(dir)/*.ned))


# default target
all: basestuff modulesstuff

# copy base header and ned files
basestuff:
	@cp $(BASEHEADERS) .
	@cp $(BASENEDS) .
	@echo >.tstamp

# copy core header and ned files
modulesstuff:
	@cp $(MODULESHEADERS) .
	@cp $(MODULESNEDS) .
	@echo >.tstamp

# remove all header and ned files
rm:
	rm -f *.h *.ned

# make clean depends on rm
clean: rm
