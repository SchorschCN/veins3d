[General]
cmdenv-event-banners = true
cmdenv-module-messages = true

ned-path = ../../../base;../../../modules;../../../examples;
network = csmaTestSim

sim-time-limit = 100s


##########################################################
#			Simulation parameters                        #
##########################################################
tkenv-default-config = 
csmaTestSim.**.coreDebug = false
csmaTestSim.playgroundSizeX = 100m
csmaTestSim.playgroundSizeY = 100m
csmaTestSim.playgroundSizeZ = 300m
csmaTestSim.numHosts = 3

##########################################################
#			WorldUtility parameters                      #
##########################################################
csmaTestSim.world.useTorus = false
csmaTestSim.world.use2D = true

##########################################################
#			         channel parameters                  #
##########################################################
csmaTestSim.connectionManager.sendDirect = false
csmaTestSim.connectionManager.pMax = 110.11mW
csmaTestSim.connectionManager.sat = -120dBm
csmaTestSim.connectionManager.alpha = 2
csmaTestSim.connectionManager.carrierFrequency = 2.4E+9Hz

##########################################################
#             Host specific parameters                   #
##########################################################
csmaTestSim.node[*].nic.connectionManagerName = "connectionManager"


################ PhyLayer parameters #####################
csmaTestSim.node[*].nic.phy.usePropagationDelay = false
csmaTestSim.node[*].nic.phy.thermalNoise = -110dBm
 
csmaTestSim.node[*].nic.phy.analogueModels = xmldoc("config.xml")
csmaTestSim.node[*].nic.phy.decider = xmldoc("config.xml")

csmaTestSim.node[*].nic.phy.timeRXToTX = 0.000192s
csmaTestSim.node[*].nic.phy.timeRXToSleep = 0s

csmaTestSim.node[*].nic.phy.timeTXToRX = 0.000192s
csmaTestSim.node[*].nic.phy.timeTXToSleep = 0s

csmaTestSim.node[*].nic.phy.timeSleepToRX = 0.001792s
csmaTestSim.node[*].nic.phy.timeSleepToTX = 0.001792s

csmaTestSim.node[*].nic.phy.sensitivity = -89dBm
csmaTestSim.node[*].nic.phy.maxTXPower = 100.0mW

csmaTestSim.node[*].nic.phy.initialRadioState = 0

csmaTestSim.node[*].nic.phy.useThermalNoise = true
csmaTestSim.node[*].nic.phy.headerLength = 48bit


################ MAC layer parameters ####################
#phySim.node[*].nic.mac.queueLength = 100
#phySim.node[*].nic.mac.headerLength = 72
#phySim.node[*].nic.mac.slotDuration = 0.002s
#phySim.node[*].nic.mac.difs = 0.0005s
#phySim.node[*].nic.mac.maxTxAttempts = 3
#phySim.node[*].nic.mac.defaultChannel = 0
csmaTestSim.node[*].nic.mac.bitrate = 250000bps
#phySim.node[*].nic.mac.contentionWindow = 20
csmaTestSim.node[*].nic.mac.txPower = 1mW  # [mW]
csmaTestSim.node[*].nic.mac.notAffectedByHostState = true
csmaTestSim.node[*].nic.mac.macMinBE = 1
csmaTestSim.node[*].nic.mac.macMaxBE = 6
csmaTestSim.node[*].nic.mac.macMaxCSMABackoffs = 20
csmaTestSim.node[*].nic.mac.macAckWaitDuration = 0.000864s
csmaTestSim.node[*].nic.mac.aUnitBackoffPeriod = 0.02s

################ NETW layer parameters ####################


################ Mobility parameters #####################

csmaTestSim.node[0].mobility.x = 200	
csmaTestSim.node[0].mobility.y = 300
csmaTestSim.node[0].mobility.z = 100

csmaTestSim.node[1].mobility.x = 300	
csmaTestSim.node[1].mobility.y = 300
csmaTestSim.node[1].mobility.z = 100

csmaTestSim.node[2].mobility.x = 400	
csmaTestSim.node[2].mobility.y = 300
csmaTestSim.node[2].mobility.z = 100

#csmaTestSim.node[1..9].mobility.x = uniform(10, 100)
#csmaTestSim.node[1..9].mobility.y = uniform(10, 100)
#csmaTestSim.node[*].mobility.z = -1

csmaTestSim.node[*].mobility.debug = false
csmaTestSim.node[*].mobility.speed = 0
csmaTestSim.node[*].mobility.updateInterval = 0.5s

#phySim.node[*].net.debug = false
#phySim.node[*].net.stats = false
#phySim.node[*].net.headerLength = 10*8bit
#phySim.node[*].net.notAffectedByHostState = true

csmaTestSim.node[*].appl.debug = false
csmaTestSim.node[*].appl.packetLength = 24880bit
**.appl.packetTime = 0.1s
**.appl.packetsPerPacketTime = 0.15



[Config Test1-sendRate]
csmaTestSim.playgroundSizeX = 10m
csmaTestSim.playgroundSizeY = 10m
csmaTestSim.numHosts = ${2..20 step 1}
csmaTestSim.node[*].mobility.x = -1
csmaTestSim.node[*].mobility.y = -1
csmaTestSim.node[*].mobility.z = -1
**.appl.packetsPerPacketTime = 0.1

[Config Test2-sendRate]
csmaTestSim.playgroundSizeX = 10m
csmaTestSim.playgroundSizeY = 10m
csmaTestSim.numHosts = 10
csmaTestSim.node[*].mobility.x = -1
csmaTestSim.node[*].mobility.y = -1
csmaTestSim.node[*].mobility.z = -1
**.appl.packetsPerPacketTime = ${0.02..0.2 step 0.02}
**.appl.burstSize = 1
**.mac.queueLength = 100

[Config Test3-sendRate-bursted]
extends = Test2-sendRate
**.appl.burstSize = 3

[Config Test4-sendRate-bursted-unqueued]
extends = Test3-sendRate-bursted
**.mac.queueLength = 0

[Config Test5-sendRate-unqueued]
extends = Test2-sendRate
**.mac.queueLength = 0
